<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BinarCarRent</title>
    <style>
      * {
        font-family: Helvetica, Arial, sans-serif;
      }
    </style>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <section class="relative bg-[#F1F3FF] text-[14px] lg:h-[100vh]">
      <!-- HEADER -->
      <header class="flex justify-between items-center pt-[24px] lg:pl-[70px] px-[20px] lg:px-[16px] lg:pr-[70px]">
        <p class="font-bold pt-2">BinarCarRent</p>
        <div class="relative">
          <button class="md:hidden" onclick="toggleMenu()"><img id="burgerButton" src="images/menu.svg" alt="close button"></button>
          <nav id="navBar" class="hidden absolute top-[-29px] right-[-16px] w-[180px] bg-white p-5 h-[100vh]">
            <ol class="flex flex-col gap-5 pt-2 pb-4">
              <div class="flex justify-between">
                <p class="font-bold">BCR</p>
                <button class="md:hidden w-[25px]" onclick="toggleMenu()"><img id="closeButton" src="images/close.png" alt="burger button"></button>
              </div>
              <li><a href="#our-service">Our Service</a></li>
              <li><a href="#why-us">Why Us</a></li>
              <li><a href="#testimonial">Testimonial</a></li>
              <li><a href="#faq">FAQ</a></li>
            </ol>
            <button class="bg-[#5CB85F] p-2 rounded text-white font-semibold">Register</button>
          </nav>
          <nav>
            <ol class="hidden md:flex items-center gap-5 ">
              <li><a href="#our-service">Our Service</a></li>
              <li><a href="#why-us">Why Us</a></li>
              <li><a href="#testimonial">Testimonial</a></li>
              <li><a href="#faq">FAQ</a></li>
              <button class="bg-[#5CB85F] p-2 rounded text-white font-semibold">Register</button>
            </ol>
          </nav>
        </div>
      </header>

      <!-- MAIN -->
      <div class="md:flex justify-between mt-[14px] pl-[20px] lg:pl-0 md:pt-5 lg:pt-28 xl:pt-20">
        <div class="md:w-[50%] lg:pl-[70px] lg:w-[40%] pr-5">
          <h1 class="font-bold text-[36px]"> Sewa & Rental Mobil Terbaik di kawasan Banyuwangi</h1>
          <p class="pt-[20px] font-light font-[14px] leading-[20px]">Selamat datang di Binar Car Rental. Kami menyediakan mobil kualitas <br class="hidden xl:block"> terbaik dengan harga terjangkau. Selalu siap melayani kebutuhanmu <br class="hidden xl:block"> untuk sewa mobil selama 24 jam.</p>
        </div>
        <img class="lg:absolute bottom-[200px] pr-[-16px] md:w-[50%] pt-10 lg:bottom-0 md:right-0" src="images/car.png" alt="car image" />
      </div>

      <!-- FILTER FORM -->
      <section class="absolute bg-white lg:bottom-[-100px] lg:flex justify-evenly w-full md:w-[95%] lg:w-[89%] text-[14px] shadow-lg border-[1px] shadow-inner text-center md:ml-[20px] lg:ml-[70px] rounded-lg py-10">
        <form action="" class="flex flex-col gap-2 lg:flex-row justify-between items-center lg:w-[85%]">
          <div class="text-left flex flex-col w-[80%] lg:w-[25%]">
            <label for="cars">Tipe Driver</label>
            <select name="driverType" id="driverType" class="text-gray-400 border-[1.5px] border-gray-300 rounded-md h-[35px] mt-2">
              <option value="dengan sopir">Dengan Sopir</option>
              <option value="tanpa sopir">Tanpa Sopir (Lepas Kunci)</option>
            </select>
          </div>
          <div class="text-left flex flex-col w-[80%] lg:w-[25%]">
            <label for="date">Tanggal</label>
            <input type="date" id="date" name="date" class="text-gray-400 border-[1.5px] border-gray-300 rounded-md h-[35px] mt-2">
          </div>
          <div class="text-left flex flex-col w-[80%] lg:w-[25%]">
            <label for="time">Waktu Jemput/Ambil</label>
            <select name="time" id="time" class="text-gray-400 border-[1.5px] border-gray-300 rounded-md h-[35px] mt-2">
              <option value="08.00">08.00 WIB</option>
              <option value="09.00">09.00 WIB</option>
              <option value="10.00">10.00 WIB</option>
              <option value="11.00">11.00 WIB</option>
              <option value="12.00">12.00 WIB</option>
            </select>
          </div>
          <div class="text-left flex flex-col w-[80%] lg:w-[25%]">
            <label for="passengers">Jumlah Penumpang</label>
            <input type="number" id="passengers" name="passengers" class="text-gray-400 border-[1.5px] border-gray-300 rounded-md h-[35px] mt-2">
          </div>
        </form>
        <button onclick="filterData(event)" id="filter-btn" class="bg-[#5CB85F] px-[12px] py-[8px] mt-[29px] rounded text-white font-semibold h-[35px]">Cari Mobil</button>
      </section>
    </section>

    <!-- FILTER RESULT -->
    <section id="result" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-[14px] px-[16px] ml-[16px] md:px-[70px] mt-[450px] lg:mt-32">
    </section>

    <!-- FOOTER -->
    <footer class="text-[14px] px-[16px] ml-[16px] md:flex justify-between mt-[100px] md:mt-[200px] lg:mt-[100px] md:px-[70px] md:pb-[70px]">
      <div>
        <p>Jalan Suroyo No. 161 Mayangan Kota <br />Probolonggo 672000</p>
        <p class="py-4 md:py-3">binarcarrental@gmail.com</p>
        <p>081-233-334-808</p>
      </div>
      <div>
        <ol>
          <li><a href="#our-service">Our Service</a></li>
          <li class="py-4 md:py-3"><a href="#why-us">Why Us</a></li>
          <li><a href="#testimonial">Testimonial</a></li>
          <li class="py-4 md:pt-3"><a href="#faq">FAQ</a></li>
        </ol>
      </div>
      <div>
        <p>Connect with us</p>
        <div class="flex gap-3 py-4 md:pt-3">
          <img src="/images/facebook.png" alt="" />
          <img src="/images/instagram.png" alt="" />
          <img src="/images/twitter.png" alt="" />
          <img src="/images/email.png" alt="" />
          <img src="/images/whatsapp.png" alt="" />
        </div>
      </div>
      <div>
        <p>Copyright Binar 2022</p>
        <p class="font-bold py-4 md:pt-3">BinarCarRent</p>
      </div>
    </footer>
    <script>
      const url = 'http://localhost:9000/data'
      let responseData

      function displayFilteredData(data) {
        const resultDiv = document.getElementById('result')
        resultDiv.innerHTML = ''
        
        if (data.length === 0) {
          resultDiv.textContent = 'No data found.'
          return
        }

        data.forEach(item => {
          let cardHTML = `
            <div class="relative grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 card border-2 p-5 rounded-lg">
              <div class="h-[200px] w-full overflow-hidden">
                <img class="" src=${item.image} alt="Car Image">
              </div>
              <div class="my-6">
                <p>${item.type}/${item.model}</p>
                <p class="font-bold my-2">Rp ${item.rentPerDay} / hari</p>
                <p>${item.description}</p>
                <div class="flex mt-2">
                  <img class="w-[20px] mr-2" src="./images/capacity.png" alt="capacity">
                  <p>${item.capacity} orang</p>
                </div>
                <div class="flex my-2">
                  <img class="w-[20px] mr-2" src="./images/transmission.png" alt="transmission">
                  <p>${item.transmission}</p>
                </div>
                <div class="flex mb-16">
                  <img class="w-[20px] mr-2" src="./images/year.png" alt="year">
                  <p>Tahun ${item.year}</p>
                </div>
              </div>
              <button class="absolute bottom-5 bg-[#5CB85F] text-white w-[89%] py-2">Pilih Mobil</button>
            </div>
          `
          const container = document.getElementById('result');
          container.innerHTML += cardHTML;
        })
      }

      async function filterData(e) {
        const driverType = document.getElementById('driverType').value
        const date = document.getElementById('date').value
        const time = document.getElementById('time').value
        const totalPassengers = document.getElementById('passengers').value
        const body = JSON.stringify({
          driverType,
          date,
          time,
          totalPassengers 
        })

        e.preventDefault()
        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body
            })

            responseData = await response.json()

            displayFilteredData(responseData)
            console.log('Response:', responseData)
        } catch (error) {
            console.error('Error:', error.message)
        }
      }
      

      // BURGER BUTTON
      var nav = document.getElementById("navBar")
      var burgerButton = document.getElementById("burgerButton")
      function toggleMenu() {
        if (nav.style.display === "block") {
          nav.style.display = "none"
          burgerButton.style.display = "block"
        } else {
          nav.style.display = "block"
          burgerButton.style.display = "none"
        }
      }
    </script>
  </body>
</html>
